<!DOCTYPE html>
<html>
<head>
<title>Polls!</title>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
<script src="https://angular-ui.github.io/ui-router/release/angular-ui-router.js"></script>
<script src="javascripts/polls.js"></script>
</head>

<body ng-app="poll" ng-controller="MainCtrl">
<center><h1>Poll Central!</h1><br></center>
<hr>
<form id="pollForm" action="" ng-submit="addPoll()">

<h2>Submit a New Poll</h2>
<label for="question:">Question: </label> <input type="text" ng-model="question" id="question" size="50" placeholder="Sample: 
what is your favorite flavor of ice cream?"><br>

<label for="c1:">Option 1: </label> <input type="text" ng-model="c1" id="c1" size="50" value="This value is required"><br>
<label for="c2:">Option 2: </label> <input type="text" ng-model="c2" id="c2" size="50" value="This value is required"><br>
<label for="c3:">Option 3: </label> <input type="text" ng-model="c3" id="c3" size="50" placeholder="chocolate chip"><br>
<label for="c4:">Option 4: </label> <input type="text" ng-model="c4" id="c4" size="50" placeholder="vanilla"><br>
<label for="c5:">Option 5: </label> <input type="text" ng-model="c5" id="c5" size="50" placeholder="other"><br>
<button type="submit" id="isubmit" class="btn btn-default">Submit</button>

</form>

<br><br><hr>

<h2>Active Polls</h2>
<div id="activePolls" ng-repeat="poll in polls">
	<strong><h4>{{poll.question}}</h4></strong>
	<br>
	<div><p>{{poll.c1}} <strong>votes:</strong> {{poll.v1}} <span id="s1" ng-click="incrementUpvotes1(poll)">&#128077;</span></p>
	<span class="progress-bar progress-bar-striped active" role="progressbar"
  		aria-valuenow="{{(poll.v1/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%" aria-valuemin="0" aria-valuemax="100" style="width:{{(poll.v1/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%">
    		{{(poll.v1/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%
  	</span></div><br>
	<div><p>{{poll.c2}} <strong>votes:</strong> {{poll.v2}} <span id="s2" ng-click="incrementUpvotes2(poll)">&#128077;</span></p>
	<span class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                aria-valuenow="{{(poll.v2/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%" aria-valuemin="0" aria-valuemax="100" style="width:{{(poll.v2/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%">
                {{(poll.v2/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%
        </span></div><br>
	<div ng-switch="poll.c3">
	<p ng-switch-when=""></p>
	<p ng-switch-default>{{poll.c3}} <strong>votes:</strong> {{poll.v3}} <span id="s3" ng-click="incrementUpvotes3(poll)">&#128077;</span>
	
	<span class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
                aria-valuenow="{{(poll.v3/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}" aria-valuemin="0" aria-valuemax="100" style="width:{{(poll.v3/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%">
                {{(poll.v3/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%
        </span></p></div><br>

	<div ng-switch="poll.c4">
	<p ng-switch-when=""></p>
	<p ng-switch-default>{{poll.c4}} <strong>votes:</strong> {{poll.v4}} <span id="s4" ng-click="incrementUpvotes4(poll)">&#128077;</span>
	
	<span class="progress-bar progress-bar-warning progress-bar-striped active" role="progressbar"
                aria-valuenow="{{(poll.v4/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}" aria-valuemin="0" aria-valuemax="100" style="width:{{(poll.v4/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%">
                {{(poll.v4/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%
        </span></p></div><br>
	
	<div ng-switch="poll.c5">
	<p ng-switch-when=""></p>
	<p ng-switch-default> {{poll.c5}} <strong>votes:</strong> {{poll.v5}} <span id="s5" ng-click="incrementUpvotes5(poll)">&#128077;</span>
	
	<span class="progress-bar progress-bar-danger progress-bar-striped active" role="progressbar"
                aria-valuenow="{{(poll.v5/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}" aria-valuemin="0" aria-valuemax="100" style="width:{{(poll.v5/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%">
                {{(poll.v5/(poll.v1+poll.v2+poll.v3+poll.v4+poll.v5))*100
                }}%
        </span></p></div>
	<br><br>
</div>
</body>
</html>

